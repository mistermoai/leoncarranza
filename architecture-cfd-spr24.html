<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Leon Carranza's Website</title>
    <link rel="stylesheet" href="styles/site.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@200;300&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300&display=swap" rel="stylesheet">
    <link rel="shortcut icon" type="image/png" href="website-assets\favicon.png">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>

  <body>
    <!--  HEADER  -->
    <header>

      <div class="header-row">

        <div class="header-row-item">
          <h1><a href="index.html">Leon Carranza</a></h1>
        </div>

        <div class="header-row-item" id="hamburger">
          <h1>&#9776;</h1>
        </div>

      </div>

      <nav class="hidden">
        <ul class="fade">
          <li><a href="resume.html">About</a> </li>
          <li><a href="index.html">Full Portfolio</a> </li>
          <li><a href="digitalfabrication.html">Digital Fabrication </a></li>
          <li><a href="architecture.html">Architecture </a></li>
          <li><a href="gamedesign.html">Game Design</a></li>
        </ul>
      </nav>
    </header>

  <!--  HEADER  -->

    <h2>(Dis)continuous (Dis)orientation: A Unity VR Game</h2>

    <main>

      <h3>Final Presentation:</h3>
      <div class="carousel" data-carousel>
          
        <button class ="carousel-button prev" data-carousel-button="prev">&#8678;</button>
          <button class ="carousel-button next" data-carousel-button="next">&#8680;</button>
        <ul data-slides>
          <li class="slide" data-active> <img src="spr24/cfd/cfd_Final Presentation_Page_27.jpg" alt=""> <br></li>
          <li class="slide"> <img src="spr24/cfd/cfd_Final Presentation_Page_04.jpg" alt=""></li>
          <li class="slide"> <img src="spr24/cfd/cfd_Final Presentation_Page_06.jpg" alt=""></li>
          <li class="slide"> <img src="spr24/cfd/cfd_Final Presentation_Page_07.jpg" alt=""></li>
          <li class="slide"> <img src="spr24/cfd/cfd_Final Presentation_Page_09.jpg" alt=""></li>
          <li class="slide"> <img src="spr24/cfd/cfd_Final Presentation_Page_10.jpg" alt=""></li>
          <li class="slide"> <img src="spr24/cfd/cfd_Final Presentation_Page_11.jpg" alt=""></li>
          <li class="slide"> <img src="spr24/cfd/cfd_Final Presentation_Page_12.jpg" alt=""></li>
          <li class="slide"> <img src="spr24/cfd/cfd_Final Presentation_Page_13.jpg" alt=""></li>
          <li class="slide"> <img src="spr24/cfd/cfd_Final Presentation_Page_14.jpg" alt=""></li>
          <li class="slide"> <img src="spr24/cfd/cfd_Final Presentation_Page_17.jpg" alt=""></li>
          <li class="slide"> <img src="spr24/cfd/cfd_Final Presentation_Page_18.jpg" alt=""></li>
          <li class="slide"> <img src="spr24/cfd/cfd_Final Presentation_Page_19.jpg" alt=""></li>
          <li class="slide"> <img src="spr24/cfd/cfd_Final Presentation_Page_20.jpg" alt=""></li>
          <li class="slide"> <img src="spr24/cfd/cfd_Final Presentation_Page_27.jpg" alt=""></li>
          <li class="slide"> <img src="spr24/cfd/cfd_Final Presentation_Page_28.jpg" alt=""></li>
          <li class="slide"> <img src="spr24/cfd/cfd_Final Presentation_Page_29.jpg" alt=""></li>
          <li class="slide"> <img src="spr24/cfd/cfd_Final Presentation_Page_30.jpg" alt=""></li>
          <li class="slide"> <img src="spr24/cfd/cfd_Final Presentation_Page_31.jpg" alt=""></li>

        </ul>
      </div>

      <div class="description">
        <h3>Class: Coding for Design II</h3>
        <p>This class is focused on teaching C# and Unity to the capacity of designing and creating meaningful spatial interactions. For our final project, we were tasked with creating a spatial interaction of our choosing that abstracts from the way we conventionally understand or move throughout a space.</p>
        <h3>Group Members:</h3>
            <p>Leon Carranza (Lead Programmer)</p>
            <p>Prarthana Jathar</p>
            <p>Nandini Mohan</p>
      </div>


      <div class = "portfolio-content">
      </div>
      
        <div class="videocontainer"> 
          <h2>Final Implementation and Gameplay:</h2>
            <div class="description">
              <p>The way the player moves in our game subverts the way we conventionally understand movement in architecture. Rather than relying on our abstraction of flat space on earth and a singular direction of down, the player must navigate across discontinuous meshes where their curvature is apparent. Constraining the player to moving along mesh normals, the player must move objects throughout space in order to move continuously towards a goal.</p>
            </div>
          <br>
          <iframe width="300" height="315" src="https://www.youtube.com/embed/NhFyq2RN-OM?si=D2e3zaFqMZDueVBTloop=1" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
          <br>
        </div>

        
        <div class="videocontainer"> 
          <h2>Process:</h2>
          <h3>Moving a player-controlled object along the normals of a mesh</h3>
            <div class="description">
              <p>My first milestone in programming was getting a player-controlled object to move along a mesh's normal. I found that the mesh itself must be concave, but also that the angle changes were often too sharp and sudden. My next goals were both to smoothen sudden angle changes through quaternion lerping and to allow for continuous movement along multiple meshes as long as they intersected.</p>
            </div>
          <br>
          <iframe width="300" height="315" src="https://www.youtube.com/embed/juyiGywX1bw?si=DGD8dEIzQyL_0GUbloop=1" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
        
          <h3>Moving continually across intersecting meshes</h3>
            <div class="description">
              <p>I next made movement continuous as the player moved themselves between intersecting meshes. This involved constantly checking if the player was about to approach a mesh they weren't already stuck to using a spherecast.</p>
            </div>
          <br>
          <iframe width="300" height="315" src="https://www.youtube.com/embed/ie_Q54M2bco?si=JLWGlYfTxOXq0163" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

          <h3>Smooth movement and controls</h3>
            <div class="description">
              <p>The addition of quaternion lerps meant that players would now smoothly rotate from one rotation position to another. Additionally, input from the VR headset and controllers could now be collected to allow players to rotate and move objects throughout space. This allows for player-made intersections and paths.</p>
            </div>
          <br>
          <iframe width="300" height="315" src="https://www.youtube.com/embed/jySvJxVq2vI?si=Y3EL0rv8Mg921mgZ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

          <h3>More Final Gameplay Footage</h3>
            <div class="description">
              <p>It was now time to place the player in the intended mobius strip city. The overall shape of the city, the way the player must navigate it, and the materials all work to contribute to the defamiliarization of a space that is, at a glance, familiar to the player.</p>
            </div>
          <br>
          <iframe width="300" height="315" src="https://www.youtube.com/embed/38HlJ8si4BY?si=AuDivz22IzW17dXc" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
          <br>
          <iframe width="300" height="315" src="https://www.youtube.com/embed/-10WAMX7NfM?si=sfBm5q2FVbrfMqq-" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>


        </div>

        <div class="videocontainer"> 
          <h3>Code Snippets</h3>
            <div class="description">
              <p>Custom Movement:</p>
              <pre>
    void CustomMovement()
    {
        var stuck = false;

        Vector3 new_p = transform.position;



        if (_inputData._rightController.TryGetFeatureValue(CommonUsages.primary2DAxis, out Vector2 _rightAxis))
        {
            _rightAxis = new Vector2(_rightAxis.x, _rightAxis.y);
            transform.Rotate(transform.forward, _rightAxis.x * 5.0f, Space.World);
        }

        if (_inputData._leftController.TryGetFeatureValue(CommonUsages.trigger, out float _triggerQuant))
        {
            _trigger = _triggerQuant;
        }

        if (_inputData._leftController.TryGetFeatureValue(CommonUsages.primary2DAxis, out Vector2 _leftAxis) && _trigger == 0)
        {
            _leftAxis = new Vector2(_leftAxis.x, _leftAxis.y);
            transform.position += transform.up * _leftAxis.y * speed * Time.deltaTime;
        }

        sticky_collider = stickTo();
        
        Vector3 cp = sticky_collider.ClosestPoint(new_p);

        Ray r = new Ray(new_p, cp - new_p);

        if (sticky_collider.Raycast(r, out var hit, Mathf.Infinity))
        {
            if (stuck == false)
            {
                transform.position = cp;
                Quaternion OriginalRot = transform.rotation;
                rotationGoal = Vector3.Lerp(new_p, cp + hit.normal, 10f * Time.deltaTime);
                transform.LookAt(rotationGoal, transform.up);
                Quaternion NewRot = transform.rotation;
                transform.rotation = OriginalRot;
                transform.rotation = Quaternion.Lerp(transform.rotation, NewRot, speed * Time.deltaTime);
                stuck = true;
            }

            else if (stuck == true)
            {
                transform.position = cp;
                Quaternion OriginalRot = transform.rotation;
                rotationGoal = Vector3.Lerp(new_p, cp + hit.normal, 10f * Time.deltaTime);
                transform.LookAt(rotationGoal, transform.up);
                Quaternion NewRot = transform.rotation;
                transform.rotation = OriginalRot;
                transform.rotation = Quaternion.Lerp(transform.rotation, NewRot, speed * Time.deltaTime);
                stuck = false;
            }
        }
    }
              </pre>
            </div>
            <div class="description">
              <p>Sticking to Mesh Collider:</p>
              <pre>
                private Collider stickTo()
                {
                    origin = transform.position;
                    direction = transform.up;
                    RaycastHit spherehit;
                    if (Physics.SphereCast(origin, sphereRadius, direction, out spherehit, maxDistance, layerMask, QueryTriggerInteraction.UseGlobal))
                    {
                        currentHitObject = spherehit.transform.gameObject;
                        currentHitDistance = spherehit.distance;
                        sticky_collider = spherehit.collider;
                    }
                    else
                    {
                        currentHitDistance = maxDistance;
                        currentHitObject = null;
                    }
                    return sticky_collider;
                }
              </pre>
            </div>
        </div>
        
        

        <div class = "portfolio-content">
        </div>
      
      
    </main>

    <footer>
      <p>First Posted 2/9/2022 | Last Updated 6/14/2024</p>
    </footer>
  </body>
  
<script type="text/javascript" src="scripts/jquery-3.6.0.js"></script>
<script type="text/javascript" src="scripts/hamburger.js"></script>
<script type="text/javascript" src="scripts/carousel.js" defer></script>
</html>
